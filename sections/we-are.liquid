{% schema %}
{
  "name": "We Are Banner",
  "settings": [
    { "type": "text", "id": "left_text", "label": "Left word", "default": "WE" },
    { "type": "image_picker", "id": "center_image", "label": "Center image" },
    { "type": "image_picker", "id": "center_image_mobile", "label": "Center image (mobile - optional)" },
    { "type": "text", "id": "right_text", "label": "Right word", "default": "ARE" },
    { "type": "textarea", "id": "caption", "label": "Caption (preserve line breaks)", "default": "In a world obsessed with noise, and\nlogos screaming for attention,\nwe choose intent.\nclarity.\npurpose." }
  ],
  "blocks": [],
  "presets": [ { "name": "We Are Banner", "category": "Image" } ]
}
{% endschema %}

{% stylesheet %}
.we-are-section { padding: 56px 0; }
.we-are__wrap {margin: 0 auto; padding: 0 20px; }
.we-are__grid { display: grid; grid-template-columns: 1fr auto 1fr; align-items: center; gap: 24px; }
.we-are__side { color: #122443; font-weight: 800; text-transform: uppercase; }
.we-are__side--left { text-align: right; }
.we-are__side--right { text-align: left; }
.we-are__side span { display:inline-block; vertical-align:middle; }
.we-are__side--left span { margin-right: 28px; }
.we-are__side--right span { margin-left: 28px; }

/* fluid sizing of the big flanking words */
.we-are__side span { font-size: 80px; line-height: 1; font-weight: bold;}

.we-are__center { display:flex; justify-content:center; }
.we-are__image { width:780px; }
.we-are__image img { width:100%; height:auto; display:block; object-fit:cover;}

.we-are__caption { max-width: 520px; margin: 18px auto 0; color:#122443; font-size:25px; text-align:right; line-height:1.4; white-space: pre-wrap; font-weight: bold;}

/* Mobile: stack so visual flow remains; left word above, image centered, right word below */
@media (max-width: 1024px) {
  .we-are__grid { grid-template-columns: 1fr; grid-auto-rows: auto; gap: 12px; }
  .we-are__side { text-align: center; }
  .we-are__side--left span, .we-are__side--right span { margin: 0; }
  .we-are__image { width: 56vw; max-width: 300px; }
  .we-are__side span { font-size: 50px; }
  .we-are__caption { font-size: 16px; max-width: 320px; text-align: center;}
}

{% endstylesheet %}

<section id="we-are-{{ section.id }}" class="we-are-section">
  <div class="we-are__wrap">
    <div class="we-are__grid">
      <div class="we-are__side we-are__side--left" aria-hidden="true">
        <span>{{ section.settings.left_text }}</span>
      </div>

      <div class="we-are__center">
        {% assign img_desktop = section.settings.center_image %}
        {% assign img_mobile = section.settings.center_image_mobile %}
        {% if section.settings.center_image != blank %}
          <div class="we-are__image">
            {% if section.settings.center_image_mobile != blank %}
              <picture>
                <source media="(max-width: 749px)" srcset="{{ img_mobile | img_url: '800x' }}">
                <img src="{{ img_desktop | img_url: '1200x' }}" alt="">
              </picture>
            {% else %}
              <img src="{{ img_desktop | img_url: '1200x' }}" alt="">
            {% endif %}
          </div>
        {% endif %}
      </div>

      <div class="we-are__side we-are__side--right" aria-hidden="true">
        <span>{{ section.settings.right_text }}</span>
      </div>
    </div>

    {% if section.settings.caption != blank %}
      <div class="we-are__caption">{{ section.settings.caption }}</div>
    {% endif %}
  </div>
</section>
