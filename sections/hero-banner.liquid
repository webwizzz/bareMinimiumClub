{% schema %}
{
	"name": "Hero banner",
	"settings": [
		{
			"type": "image_picker",
			"id": "desktop_image",
			"label": "Desktop image"
		},
		{
			"type": "image_picker",
			"id": "mobile_image",
			"label": "Mobile image (optional, used on small screens)"
		},
		{
			"type": "text",
			"id": "heading_line1",
			"label": "Heading (line 1)",
			"default": "BUILT ON THE"
		},
		{
			"type": "text",
			"id": "heading_line2",
			"label": "Heading (line 2 - script/brand)",
			"default": "Bare Minimum"
		},
		{
			"type": "textarea",
			"id": "tagline",
			"label": "Tagline / subtext",
			"default": "Minimal Mindset. Maximum Attitude."
		},
		{
			"type": "text",
			"id": "button_text",
			"label": "Button text",
			"default": "Shop now"
		},
		{
			"type": "url",
			"id": "button_link",
			"label": "Button link"
		},
		{
			"type": "color",
			"id": "overlay_color",
			"label": "Overlay color",
			"default": "#ffffff"
		},
		{
			"type": "range",
			"id": "overlay_opacity",
			"label": "Overlay opacity",
			"min": 0,
			"max": 100,
			"step": 5,
			"default": 0
		},
		{
			"type": "select",
			"id": "text_align",
			"label": "Text alignment",
			"options": [
				{"value":"center","label":"Center"},
				{"value":"left","label":"Left"},
				{"value":"right","label":"Right"}
			],
			"default": "center"
		}
	],
	"blocks": [],
	"presets": [
		{
			"name": "Hero banner (Customizable)",
			"category": "Hero"
		}
	]
}
{% endschema %}

{% stylesheet %}
.hero-banner-section {
	position: relative;
	overflow: visible;
	padding-bottom: 10vw;
}
.hero-banner__media {
  width: 100%;
  height: 936px;
  min-height: 480px;
  background-position: center center;
  background-size: cover;
  display: block;
}
.hero-banner__mobile-img {
	display: none;
	width: 100%;
	height: auto;
	object-fit: cover;
}
.hero-banner__content {
	position: absolute;
	left: 50%;
	bottom: 0;
	transform: translateX(-50%) translateY(10%);
	width: 100%;
	max-width: 1200px;
	padding: 0 24px 40px;
	text-align: center;
	z-index: 3;
}
.hero-banner__heading-line1 {
	font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial;
	font-weight: 500;
	text-transform: uppercase;
	font-size: 108px;
	margin: 0;
	color: #000;
	line-height: 0.95;
}
.hero-banner__heading-line2 {
	font-family: 'Brush Script MT', 'Times New Roman', serif;
	font-style: italic;
	font-weight: 400;
	font-size: 98px;
	margin: -25px 0 6px;
	color: #122443;
	line-height: 0.9;
}
.hero-banner__tagline {
	color: #000;
	font-size: 14px;
	margin-top: 8px;
    font-weight: 600;
}

.hero-banner__button {
	display: inline-block;
	margin-top: 18px;
	padding: 12px 20px;
	background: transparent;
	color: #0b2340;
	border: 2px solid #0b2340;
	text-decoration: none;
	font-weight: 600;
}

/* Alignment helpers */
.hero-banner--align-left .hero-banner__content{ left: 6%; transform: translateY(50%); text-align: left; }
.hero-banner--align-right .hero-banner__content{ left: auto; right: 6%; transform: translateY(50%); text-align: right; }

/* Mobile: only show the image */
@media screen and (max-width: 749px) {
	.hero-banner__media { display: none; }
	.hero-banner__mobile-img { display: block; height: auto; max-height: 60vh; }
	.hero-banner__content { display: none; }
	.hero-banner-section{
		padding-bottom: 0;
	}
}

{% endstylesheet %}

<section id="hero-{{ section.id }}" class="hero-banner-section hero-banner--align-{{ section.settings.text_align }}">
	{% assign desktop = section.settings.desktop_image %}
	{% assign mobile = section.settings.mobile_image %}

	{% if desktop != blank %}
		<div class="hero-banner__media" style="background-image: url('{{ desktop | img_url: '2048x' }}');">
			{% if section.settings.overlay_opacity > 0 %}
				<div style="position:absolute; inset:0; background: {{ section.settings.overlay_color }}; opacity: {{ section.settings.overlay_opacity | divided_by: 100 }};"></div>
			{% endif %}
		</div>
	{% else %}
		<div class="hero-banner__media" style="background-color:#f5f5f5; height:420px;"></div>
	{% endif %}

	{% if mobile != blank %}
		<img class="hero-banner__mobile-img" src="{{ mobile | img_url: '2048x' }}" alt="{{ section.settings.heading_line1 }}">
	{% else %}
		{# fallback: use desktop image for mobile if mobile image not provided #}
		{% if desktop != blank %}
			<img class="hero-banner__mobile-img" src="{{ desktop | img_url: '800x' }}" alt="{{ section.settings.heading_line1 }}">
		{% endif %}
	{% endif %}

	<div class="hero-banner__content" role="region" aria-label="Hero banner content">
		<h1 class="hero-banner__heading-line1">{{ section.settings.heading_line1 }}</h1>
		<div class="hero-banner__heading-line2">{{ section.settings.heading_line2 }}</div>
		{% if section.settings.tagline != blank %}
			<div class="hero-banner__tagline">{{ section.settings.tagline }}</div>
		{% endif %}
		{% if section.settings.button_text != blank and section.settings.button_link != blank %}
			<a class="hero-banner__button" href="{{ section.settings.button_link }}">{{ section.settings.button_text }}</a>
		{% endif %}
	</div>
</section>

