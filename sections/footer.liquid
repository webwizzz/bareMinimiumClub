<style>
  /* =========================
     Base footer styles
  ========================== */
  #shopify-section-{{ section.id }} .bm-footer {
    padding-top: {{ section.settings.footer_padding_top }}px;
    padding-bottom: {{ section.settings.footer_padding_bottom }}px;
    background-color: #ffffff;
    width: 100%;
    box-sizing: border-box;
    border-top: {{ section.settings.footer_border_width }}px solid {{ section.settings.footer_border_color }};
  }

  /* If your theme doesn't define bm-container, this ensures sane default */
  #shopify-section-{{ section.id }} .bm-container{
    /* Make content full-bleed footer with inner 36px side gutters */
    max-width: none;
    margin: 0 36px;
    width: calc(100% - 72px);
    padding-left: 36px;
    padding-right: 36px;
    box-sizing: border-box;
  
  }

  /* =========================
     Layout (matches your mock)
  ========================== */
  #shopify-section-{{ section.id }} .bm-footer__grid {
    display: flex;
    align-items: flex-start;
    justify-content: space-between;
    gap: {{ section.settings.footer_grid_gap }}px;
    margin-bottom: {{ section.settings.footer_grid_margin }}px;
  }

  #shopify-section-{{ section.id }} .bm-footer__cols {
    display: flex;
    align-items: flex-start;
    gap: {{ section.settings.footer_cols_gap }}px;
  }

  #shopify-section-{{ section.id }} .bm-footer h4 {
    font-size: {{ section.settings.footer_heading_size }}px;
    color: {{ section.settings.footer_heading_color }};
    margin: 0 0 {{ section.settings.footer_heading_margin }}px 0;
    font-weight: 700;
  }

  #shopify-section-{{ section.id }} .bm-footer__cols a {
    display: block; /* important so margin-bottom works and links stack */
    font-size: {{ section.settings.footer_link_size }}px;
    color: {{ section.settings.footer_link_color }};
    margin-bottom: {{ section.settings.footer_link_spacing }}px;
    text-decoration: none;
    line-height: 1.2;
  }

  #shopify-section-{{ section.id }} .bm-footer__cols a:hover {
    text-decoration: underline;
  }

  /* Logo (desktop/default) */
  #shopify-section-{{ section.id }} .bm-footer__logo img {
    width: {{ section.settings.logo_width }}px;
    height: auto;
    max-height: {{ section.settings.logo_max_height }}px;
    object-fit: contain;
    display: block;
  }

  /* Copyright row */
  #shopify-section-{{ section.id }} .bm-footer__copyright {
    font-size: {{ section.settings.copyright_size }}px;
    color: {{ section.settings.copyright_color }};
    padding-top: {{ section.settings.copyright_padding_top }}px;
    margin-top: {{ section.settings.copyright_margin_top }}px;
    font-weight: {% if section.settings.copyright_bold %}700{% else %}400{% endif %};
  }

  /* =========================
     Mobile tweaks
  ========================== */
  @media (max-width: {{ section.settings.mobile_breakpoint }}px) {

    /* Make the whole footer compact like your Figma */
    #shopify-section-{{ section.id }} .bm-footer{
      padding-top: 24px !important;
      padding-bottom: 24px !important;
    }

    /* Reduce container side padding on mobile */
    #shopify-section-{{ section.id }} .bm-container{
      padding-left: 2px !important;
      padding-right: 2px !important;
    }

    /* Keep links left + logo right (no wrapping) */
    #shopify-section-{{ section.id }} .bm-footer__grid{
      flex-wrap: nowrap !important;
      align-items: flex-end;
      justify-content: space-between;
      gap: 20px !important;
      margin-bottom: 16px !important;
    }

    /* Stack Quick Links and Follow Us vertically on mobile */
    #shopify-section-{{ section.id }} .bm-footer__cols{
      flex-direction: column !important;
      gap: 24px !important;
    }

    /* Position logo at bottom right */
    #shopify-section-{{ section.id }} .bm-footer__logo{
      align-self: flex-end !important;
    }

    /* Typography for headings */
    #shopify-section-{{ section.id }} .bm-footer h4{
      font-size: 14px !important;
      margin: 0 0 12px 0 !important;
      line-height: 1.2 !important;
      font-weight: 600 !important;
    }

    /* Typography for links */
    #shopify-section-{{ section.id }} .bm-footer__cols a{
      font-size: 16px !important;
      margin-bottom: 8px !important;
      line-height: 1.4 !important;
    }

    /* Mobile logo size */
    #shopify-section-{{ section.id }} .bm-footer__logo img{
      width: {{ section.settings.mobile_logo_width | plus: 100 }}px !important;
      max-height: {{ section.settings.mobile_logo_max_height | plus: 100 }}px !important;
    }

    /* Copyright styling */
    #shopify-section-{{ section.id }} .bm-footer__copyright{
      margin-top: 8px !important;
      padding-top: 0 !important;
      font-size: 10px !important;
      font-weight: 600 !important;
      line-height: 1.2 !important;
    }
  }
</style>

<footer class="bm-footer">
  <div class="bm-container">
    <div class="bm-footer__grid">
      <div class="bm-footer__cols">
        <div>
          <h4>{{ section.settings.quick_links_heading }}</h4>

          {% assign footer_menu = linklists['footer'] %}
          {% if footer_menu and footer_menu.links.size > 0 %}
            {% for link in footer_menu.links %}
              {% if link.links.size > 0 %}
                {% comment %}If this is a parent menu item like "Quick Links", show its children{% endcomment %}
                {% for child_link in link.links %}
                  <a href="{{ child_link.url }}">{{ child_link.title }}</a>
                {% endfor %}
              {% else %}
                {% comment %}Otherwise show the link itself{% endcomment %}
                <a href="{{ link.url }}">{{ link.title }}</a>
              {% endif %}
            {% endfor %}
          {% elsif section.settings.quick_menu != blank %}
            {% for link in section.settings.quick_menu.links %}
              <a href="{{ link.url }}">{{ link.title }}</a>
            {% endfor %}
          {% else %}
            <a href="/pages/contact">Contact Us</a>
            <a href="/policies/refund-policy">Returns and Refunds</a>
            <a href="/policies/privacy-policy">Policies</a>
            <a href="/policies/shipping-policy">Delivery</a>
            <a href="/policies/terms-of-service">Press</a>
          {% endif %}
        </div>

        <div>
          <h4>{{ section.settings.follow_us_heading }}</h4>

          {% if section.settings.follow_menu != blank %}
            {% for link in section.settings.follow_menu.links %}
              <a href="{{ link.url }}">{{ link.title }}</a>
            {% endfor %}
          {% else %}
            <a href="#">Youtube</a>
            <a href="#">Instagram</a>
            <a href="#">Email</a>
            <a href="#">Phone</a>
          {% endif %}
        </div>
      </div>

      <div class="bm-footer__logo" aria-label="Footer logo">
        {% if section.settings.footer_logo != blank %}
          <img
            src="{{ section.settings.footer_logo | image_url: width: 600 }}"
            alt="{{ shop.name | escape }}"
            loading="lazy"
          >
        {% elsif settings.footer_mark != blank %}
          <img
            src="{{ settings.footer_mark | image_url: width: 900 }}"
            alt="Mark"
            loading="lazy"
          >
        {% else %}
          <div style="width: {{ section.settings.logo_width }}px; height: 180px; border: 1px dashed #ddd; border-radius: 10px; display: flex; align-items: center; justify-content: center; color: #aaa; font-size: 12px;">
            Logo
          </div>
        {% endif %}
      </div>
    </div>

    <div class="bm-footer__copyright">
      {% if section.settings.copyright_text != blank %}
        {{ section.settings.copyright_text }}
      {% else %}
        Copyright {{ 'now' | date: '%Y' }} The Bare Minimum Club.
      {% endif %}
      {% if section.settings.show_powered_by %}
        Powered by Shopify
      {% endif %}
    </div>
  </div>
</footer>

{% schema %}
{
  "name": "Footer",
  "tag": "section",
  "settings": [
    {
      "type": "header",
      "content": "Footer Spacing"
    },
    {"type": "range", "id": "footer_padding_top", "label": "Footer padding top", "min": 20, "max": 200, "step": 4, "unit": "px", "default": 80},
    {"type": "range", "id": "footer_padding_bottom", "label": "Footer padding bottom", "min": 20, "max": 200, "step": 4, "unit": "px", "default": 40},
    {"type": "color", "id": "footer_border_color", "label": "Footer border color", "default": "#e6e6e6"},
    {"type": "range", "id": "footer_border_width", "label": "Top border width", "min": 0, "max": 10, "step": 1, "unit": "px", "default": 1},
    {"type": "range", "id": "footer_grid_margin", "label": "Footer grid bottom margin", "min": 0, "max": 100, "step": 4, "unit": "px", "default": 24},

    {
      "type": "header",
      "content": "Layout"
    },
    {"type": "range", "id": "footer_grid_gap", "label": "Grid gap (desktop)", "min": 0, "max": 80, "step": 2, "unit": "px", "default": 40},
    {"type": "range", "id": "footer_cols_gap", "label": "Columns gap (desktop)", "min": 0, "max": 80, "step": 2, "unit": "px", "default": 50},

    {
      "type": "header",
      "content": "Footer Logo"
    },
    {"type": "image_picker", "id": "footer_logo", "label": "Footer logo image"},
    {"type": "range", "id": "logo_width", "label": "Logo width (desktop)", "min": 40, "max": 400, "step": 5, "unit": "px", "default": 120},
    {"type": "range", "id": "logo_max_height", "label": "Logo max height (desktop)", "min": 40, "max": 400, "step": 5, "unit": "px", "default": 140},

    {
      "type": "header",
      "content": "Mobile Logo Sizing"
    },
    {"type": "range", "id": "mobile_breakpoint", "label": "Mobile breakpoint", "min": 600, "max": 900, "step": 5, "unit": "px", "default": 750},
    {"type": "range", "id": "mobile_logo_width", "label": "Logo width (mobile)", "min": 40, "max": 180, "step": 2, "unit": "px", "default": 96},
    {"type": "range", "id": "mobile_logo_max_height", "label": "Logo max height (mobile)", "min": 60, "max": 200, "step": 2, "unit": "px", "default": 110},
    {"type": "range", "id": "mobile_footer_grid_gap", "label": "Grid gap (mobile)", "min": 0, "max": 40, "step": 1, "unit": "px", "default": 20},
    {"type": "range", "id": "mobile_footer_cols_gap", "label": "Columns gap (mobile)", "min": 0, "max": 40, "step": 1, "unit": "px", "default": 30},

    {
      "type": "header",
      "content": "Footer Menus"
    },
    {"type": "text", "id": "quick_links_heading", "label": "Quick Links heading", "default": "Quick Links"},
    {"type": "text", "id": "follow_us_heading", "label": "Follow Us heading", "default": "Follow Us"},
    {"type": "link_list", "id": "quick_menu", "label": "Quick Links menu"},
    {"type": "link_list", "id": "follow_menu", "label": "Follow Us menu"},

    {
      "type": "header",
      "content": "Footer Text Styling"
    },
    {"type": "range", "id": "footer_heading_size", "label": "Footer heading size", "min": 10, "max": 32, "step": 1, "unit": "px", "default": 10},
    {"type": "color", "id": "footer_heading_color", "label": "Footer heading color", "default": "#000000"},
    {"type": "range", "id": "footer_heading_margin", "label": "Heading margin bottom", "min": 0, "max": 40, "step": 1, "unit": "px", "default": 8},
    {"type": "range", "id": "footer_link_size", "label": "Footer link size", "min": 8, "max": 24, "step": 1, "unit": "px", "default": 18},
    {"type": "color", "id": "footer_link_color", "label": "Footer link color", "default": "#000000"},
    {"type": "range", "id": "footer_link_spacing", "label": "Space between links", "min": 0, "max": 30, "step": 1, "unit": "px", "default": 4},

    {
      "type": "header",
      "content": "Copyright"
    },
    {"type": "text", "id": "copyright_text", "label": "Copyright text", "default": "Copyright 2025 The Bare Minimum Club."},
    {"type": "checkbox", "id": "show_powered_by", "label": "Show “Powered by Shopify”", "default": true},
    {"type": "checkbox", "id": "copyright_bold", "label": "Make copyright bold", "default": false},
    {"type": "range", "id": "copyright_size", "label": "Copyright text size", "min": 8, "max": 20, "step": 1, "unit": "px", "default": 8},
    {"type": "color", "id": "copyright_color", "label": "Copyright text color", "default": "#000000"},
    {"type": "range", "id": "copyright_padding_top", "label": "Copyright padding top", "min": 0, "max": 60, "step": 2, "unit": "px", "default": 18},
    {"type": "range", "id": "copyright_margin_top", "label": "Copyright margin top", "min": 0, "max": 80, "step": 2, "unit": "px", "default": 0}
  ],
  "presets": [
    { "name": "Footer" }
  ]
}
{% endschema %}
